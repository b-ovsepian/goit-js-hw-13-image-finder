{"version":3,"sources":["webpack:///./templates/imageCard.hbs","webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/addToMarkup.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","refs","body","document","querySelector","form","input","galleryList","btn","fetchImages","query","page","API_key","fetch","then","json","hits","updateMarkup","inputValue","lightBox","images","markup","imageTpl","insertAdjacentHTML","currentIndex","closeLightBox","e","code","close","window","removeEventListener","children","length","nextImage","firstElementChild","dataset","src","firstChild","setAttribute","addEventListener","event","preventDefault","innerHTML","target","elements","value","classList","remove","addToMarkup","add","InfiniteScroll","responseType","history","path","on","response","result","JSON","parse","nodeName","Number","parseInt","index","basicLightbox","onClose","show","currentTarget","reset"],"mappings":"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","file":"main.141ef4287a81ca4575c1.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"item\\\">\\n    <div class=\\\"photo-card\\\">\\n        <div class=\\\"photo-box\\\">\\n            <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":22},\"end\":{\"line\":5,\"column\":38}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":45},\"end\":{\"line\":5,\"column\":53}}}) : helper)))\n    + \"\\\" data-src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":65},\"end\":{\"line\":5,\"column\":82}}}) : helper)))\n    + \"\\\" data-index=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"index\") || (data && lookupProperty(data,\"index\"))) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"index\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":96},\"end\":{\"line\":5,\"column\":106}}}) : helper)))\n    + \"\\\" />\\n        </div>\\n        <div class=\\\"stats\\\">\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":16},\"end\":{\"line\":10,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">visibility</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":16},\"end\":{\"line\":14,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">comment</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":16},\"end\":{\"line\":18,\"column\":28}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":16},\"end\":{\"line\":22,\"column\":29}}}) : helper)))\n    + \"\\n            </p>\\n        </div>\\n    </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":27,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\n  body: document.querySelector('body'),\n  form: document.querySelector('#search-form'),\n  input: document.querySelector('input'),\n  galleryList: document.querySelector('.gallery'),\n  btn: document.querySelector('.btn-primary'),\n};\n\nexport default refs;\n","const fetchImages = (query, page, API_key) => {\n  const url = `https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_key}`;\n  return fetch(url)\n    .then(data => data.json())\n    .then(data => data.hits);\n};\n\nexport default fetchImages;\n","import imageTpl from '../templates/imageCard.hbs';\nimport refs from './refs.js';\n\nfunction updateMarkup(images) {\n  const markup = imageTpl(images);\n  refs.galleryList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport default updateMarkup;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'basiclightbox/src/styles/main.scss';\nimport './styles.css';\nimport refs from './js/refs.js';\nimport fetchImages from './js/apiService.js';\nimport addToMarkup from './js/addToMarkup.js';\nimport 'bootstrap';\nimport 'infinite-scroll';\nimport * as basicLightbox from 'basiclightbox';\n\nconst API_key = '18582264-4fafc4bd5c65c2ee349044428';\nlet page = 1;\nlet inputValue;\nlet lightBox;\nlet currentIndex = 0;\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n  page = 1;\n  refs.galleryList.innerHTML = '';\n  const input = event.target.elements[0];\n  inputValue = input.value;\n  refs.btn.classList.remove('hidden');\n\n  if (inputValue.length > 0) {\n    fetchImages(inputValue, page, API_key).then(images => {\n      addToMarkup(images);\n      refs.btn.classList.add('hidden');\n    });\n  }\n\n  const infScroll = new InfiniteScroll(refs.galleryList, {\n    responseType: 'text',\n    history: false,\n    path: function () {\n      refs.btn.classList.remove('hidden');\n      return `https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${inputValue}&page=${\n        page + 1\n      }&per_page=12&key=${API_key}`;\n    },\n  });\n\n  infScroll.on('load', response => {\n    const result = JSON.parse(response);\n    addToMarkup(result.hits);\n    page++;\n    refs.btn.classList.add('hidden');\n  });\n\n  refs.galleryList.addEventListener('click', e => {\n    if (e.target.nodeName === 'IMG') {\n      currentIndex = Number.parseInt(e.target.dataset.index);\n      lightBox = basicLightbox.create(\n        `<img width=\"1280\" src=\"${e.target.dataset.src}\">`,\n        {\n          onClose: () => (currentIndex = 0),\n        },\n      );\n      lightBox.show();\n      window.addEventListener('keydown', closeLightBox);\n    }\n  });\n\n  event.currentTarget.reset();\n});\n\nfunction closeLightBox(e) {\n  if (e.code === 'Escape') {\n    lightBox.close();\n    window.removeEventListener('keydown', closeLightBox);\n  } else if (\n    e.code === 'ArrowRight' &&\n    currentIndex != refs.galleryList.children.length - 1\n  ) {\n    const nextImage =\n      refs.galleryList.children[currentIndex + 1].firstElementChild\n        .firstElementChild.firstElementChild.dataset.src;\n    currentIndex++;\n    const lightBoxRef = document.querySelector('.basicLightbox__placeholder');\n    lightBoxRef.firstChild.setAttribute('src', nextImage);\n  } else if (e.code === 'ArrowLeft' && currentIndex != 0) {\n    const nextImage =\n      refs.galleryList.children[currentIndex - 1].firstElementChild\n        .firstElementChild.firstElementChild.dataset.src;\n    currentIndex--;\n    const lightBoxRef = document.querySelector('.basicLightbox__placeholder');\n    lightBoxRef.firstChild.setAttribute('src', nextImage);\n  }\n}\n"],"sourceRoot":""}